# 纹理系统测试指南

## ✅ 已完成的功能

1. **Texture 类** - 纹理加载和管理
2. **纹理着色器** - textureVertex.glsl 和 textureFragment.glsl
3. **STB_image 集成** - 支持 PNG, JPG, BMP 等格式

---

## 🖼️ 准备测试纹理

### 方法1：使用在线纹理（最快）

访问以下网站下载免费纹理：

1. **Poly Haven**（推荐）
   - 网址：https://polyhaven.com/textures
   - 搜索："wood", "grass", "stone"
   - 下载任意一张 JPG 或 PNG

2. **ambientCG**
   - 网址：https://ambientcg.com/
   - 选择任意纹理下载

3. **OpenGameArt**
   - 网址：https://opengameart.org/
   - 搜索 "texture"

### 方法2：使用简单图片

任何图片都可以作为测试纹理：
- 你的照片
- 网上随便找的图片
- Windows 自带的壁纸

---

## 📁 纹理文件放置位置

创建纹理文件夹：
```
8502_CrouseWork/
└── 8502_CrouseWork/
    └── Textures/          ← 创建这个文件夹
        └── test.png       ← 放你的测试纹理
```

**重要**：确保纹理文件在 `8502_CrouseWork/8502_CrouseWork/Textures/` 目录下！

---

## 🧪 测试步骤

### 步骤1：准备纹理文件
1. 创建文件夹 `8502_CrouseWork/Textures/`
2. 将任意图片（PNG 或 JPG）放入，命名为 `test.png` 或 `test.jpg`

### 步骤2：编译运行
1. 在 Visual Studio 中重新生成解决方案
2. 按 F5 运行

### 步骤3：预期结果
如果成功，控制台会显示：
```
成功加载纹理: Textures/test.png
  尺寸: 512x512
  通道数: 3
  Mipmap已生成
```

你应该看到：
- 一个**贴着纹理的立方体**在旋转
- 纹理清晰可见
- 可以用相机四处移动观察

---

## ⚠️ 常见问题

### 问题1：找不到纹理文件

**错误信息**：
```
错误：STB无法加载图像: Textures/test.png
```

**解决方法**：
1. 确认文件路径：`8502_CrouseWork/8502_CrouseWork/Textures/test.png`
2. 检查文件名是否正确（区分大小写）
3. 确认文件格式（PNG, JPG, BMP）

---

### 问题2：纹理是黑色的

**可能原因**：
- 图像格式不支持
- 纹理文件损坏

**解决方法**：
- 换一张图片试试
- 确保图片不是特殊格式（如 WebP）

---

### 问题3：纹理颠倒了

这是正常的！OpenGL 的纹理坐标 y 轴是反的。

代码中已经处理：
```cpp
stbi_set_flip_vertically_on_load(true);  // 自动翻转
```

---

## 🎨 纹理参数说明

在 `Texture.cpp` 中可以修改纹理参数：

### 环绕模式（Wrap Mode）
```cpp
// GL_REPEAT - 重复纹理（默认）
// GL_CLAMP_TO_EDGE - 边缘拉伸
// GL_MIRRORED_REPEAT - 镜像重复
glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_WRAP_S, GL_REPEAT);
glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_WRAP_T, GL_REPEAT);
```

### 过滤模式（Filter Mode）
```cpp
// GL_LINEAR - 线性过滤（平滑）
// GL_NEAREST - 最近邻过滤（像素化）
glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MIN_FILTER, GL_LINEAR);
glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MAG_FILTER, GL_LINEAR);
```

---

## 📝 下一步

纹理系统测试成功后，我们将：

1. **实现地形系统** - 使用纹理渲染大型地形
2. **添加更多纹理** - 草地、雪地、岩石等
3. **多重纹理** - 混合多张纹理

---

## 💡 推荐的测试纹理

以下是一些适合测试的纹理类型：

### 简单测试（推荐）
- **棋盘格图案** - 容易看出纹理坐标是否正确
- **网格图案** - 可以看出变形
- **彩色方块** - 明显的图案

### 真实纹理
- **木头纹理** - 看起来专业
- **石头纹理** - 测试细节
- **草地纹理** - 后续地形使用

---

## ✅ 验证清单

测试成功需要满足：

- [ ] 控制台显示 "成功加载纹理"
- [ ] 没有错误信息
- [ ] 立方体上显示纹理（不是黑色）
- [ ] 纹理没有严重失真
- [ ] 可以用相机移动观察

全部打勾后，纹理系统就算完成了！ 🎉
